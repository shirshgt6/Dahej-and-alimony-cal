<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dahej & Alimony Calculator</title>
  <style>
    :root{
      --bg:#f4f7fb; --card:#fff; --accent:#2563eb; --accent-2:#16a34a;
      --muted:#6b7280; --success:#0f5132;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:Inter, system-ui, Arial, sans-serif;
      background:var(--bg); color:#111;
      padding:20px;
    }
    .app {
      max-width:920px; margin:0 auto;
    }
    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom:18px;
    }
    header h1{margin:0; font-size:20px;}
    .card{
      background:var(--card); border-radius:12px; padding:18px;
      box-shadow:0 6px 20px rgba(15,23,42,0.06);
    }

    /* Tabs */
    .tabs{display:flex; gap:8px; margin-bottom:16px;}
    .tab{
      padding:10px 14px; border-radius:10px; cursor:pointer;
      background:transparent; color:var(--muted); border:1px solid transparent;
    }
    .tab.active{
      background:linear-gradient(90deg,var(--accent),#7c3aed 90%);
      color:white; border:1px solid rgba(0,0,0,0.04);
    }

    /* layout */
    .grid{
      display:grid; grid-template-columns:1fr 420px; gap:18px;
    }
    @media (max-width:880px){
      .grid{grid-template-columns:1fr; }
    }

    form .field{margin-bottom:12px;}
    label{display:block; font-size:13px; margin-bottom:6px; color:var(--muted);}
    input[type="number"], select, input[type="text"]{
      width:100%; padding:10px 12px; border-radius:8px; border:1px solid #e6e9ee;
      font-size:14px;
    }

    /* switch */
    .switch { position: relative; display:inline-block; width:46px; height:26px; }
    .switch input { display:none; }
    .slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0;
      background:#d1d5db; transition:.25s; border-radius:26px; }
    .slider:before { position:absolute; content:""; height:20px; width:20px; left:3px; bottom:3px;
      background:white; transition:.25s; border-radius:50%; box-shadow:0 2px 6px rgba(2,6,23,0.08);}
    .switch input:checked + .slider { background:var(--accent-2); }
    .switch input:checked + .slider:before { transform:translateX(20px); }

    .actions{display:flex; gap:8px; margin-top:8px;}
    .btn{
      padding:10px 12px; border-radius:8px; border:none; cursor:pointer; font-weight:600;
      background:var(--accent); color:white;
    }
    .btn.secondary{background:#f3f4f6; color:#111; border:1px solid #e6e9ee;}
    .result{
      margin-top:12px; padding:14px; border-radius:10px;
      background:linear-gradient(180deg,#f8fdf8,#eefaf1);
      color:var(--success); font-weight:700; font-size:18px; text-align:center;
    }
    .breakdown{margin-top:10px; background:#fff; padding:12px; border-radius:8px; border:1px solid #eef2f7; font-size:14px; color:#111;}
    .note{font-size:13px; color:var(--muted); margin-top:8px;}

    /* small helpers */
    .small{font-size:13px; color:var(--muted);}
    .row {display:flex; gap:10px;}
    .col{flex:1;}
    footer{margin-top:18px; text-align:center; color:var(--muted); font-size:13px}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>Dahej & Alimony Calculator</h1>
      <!-- <div class="small">Single page — switch between tabs</div> -->
    </header>

    <div class="card">
      <div class="tabs" role="tablist" aria-label="Calculator tabs">
        <button class="tab active" data-target="dahej" role="tab" aria-selected="true">Dahej Calculator</button>
        <button class="tab" data-target="alimony" role="tab" aria-selected="false">Alimony Calculator</button>
      </div>

      <div class="grid">
        <!-- LEFT: Forms -->
        <div>
          <!-- Dahej Form -->
          <form id="form-dahej" class="form" autocomplete="off" aria-hidden="false">
            <div class="field">
              <label for="d-income">Groom Monthly Income (₹)</label>
              <input id="d-income" type="number" min="0" placeholder="e.g. 40000">
            </div>

            <div class="row">
              <div class="col field">
                <label for="d-education">Education</label>
                <select id="d-education" >
                  <option value="0.9">High School</option>
                  <option value="1.0" selected>Graduate</option>
                  <option value="1.15">Postgraduate</option>
                  <option value="1.3">Professional</option>
                </select>
              </div>

              <div class="col field">
                <label for="d-city">City Tier</label>
                <select id="d-city">
                  <option value="1.25">Tier 1</option>
                  <option value="1.0" selected>Tier 2</option>
                  <option value="0.85">Tier 3</option>
                </select>
              </div>
            </div>

            <div class="field">
              <label>Include Gifts/Jewelry?</label>
              <label class="switch" title="Include gifts value">
                <input type="checkbox" id="d-gifts">
                <span class="slider"></span>
              </label>
              <div class="note small">If checked, fixed ₹50,000 will be added (configurable).</div>
            </div>

            <div class="actions">
              <button type="button" class="btn" onclick="calculateDahej()">Calculate Dahej</button>
              <button type="button" class="btn secondary" onclick="resetDahej()">Reset</button>
            </div>

            <div id="dahej-output" aria-live="polite">
              <div class="result" id="dahej-result">Enter details and click Calculate.</div>
              <div class="breakdown" id="dahej-breakdown" style="display:none;"></div>
            </div>
          </form>

          <!-- Alimony Form (hidden by default) -->
          <form id="form-alimony" class="form" style="display:none;" autocomplete="off" aria-hidden="true">
            <div class="field">
              <label for="a-husbandIncome">Husband Monthly Income (₹)</label>
              <input id="a-husbandIncome" type="number" min="0" placeholder="e.g. 60000">
            </div>

            <div class="field">
              <label for="a-wifeIncome">Wife Monthly Income (₹)</label>
              <input id="a-wifeIncome" type="number" min="0" placeholder="e.g. 20000">
            </div>

            <div class="row">
              <div class="col field">
                <label for="a-marriageYears">Years of Marriage</label>
                <input id="a-marriageYears" type="number" min="0" placeholder="e.g. 10">
              </div>
              <div class="col field">
                <label for="a-children">Number of Children</label>
                <input id="a-children" type="number" min="0" placeholder="e.g. 2">
              </div>
            </div>

            <div class="field">
              <label>Include Child Support?</label>
              <label class="switch">
                <input type="checkbox" id="a-childSupport">
                <span class="slider"></span>
              </label>
              <div class="note small">If checked and children &gt;0, ₹5,000 per child added (default).</div>
            </div>

            <div class="actions">
              <button type="button" class="btn" onclick="calculateAlimony()">Calculate Alimony</button>
              <button type="button" class="btn secondary" onclick="resetAlimony()">Reset</button>
            </div>

            <div id="alimony-output" aria-live="polite">
              <div class="result" id="alimony-result">Enter details and click Calculate.</div>
              <div class="breakdown" id="alimony-breakdown" style="display:none;"></div>
            </div>
          </form>
        </div>

        <!-- RIGHT: Info / Tips -->
        <aside>
          <div class="card">
            <h3 style="margin:0 0 8px 0">Calculator Guide</h3>
            <p class="small">Use the tabs to switch between calculators. Each has a Reset & Calculate button. Results are estimates — for legal/financial decisions consult professionals.</p>

            <hr style="margin:12px 0; border:none; border-top:1px solid #eef2f7;">

            <h4 style="margin:6px 0 6px 0">Dahej formula (used)</h4>
            <p class="small">Base = monthly_income × 6<br>
              Total = Base × education_multiplier × city_multiplier + (gifts ? ₹50,000 : 0)</p>

            <h4 style="margin:10px 0 6px 0">Alimony formula (used)</h4>
            <p class="small">Base = (husbandIncome − wifeIncome) × 30% (min 0)<br>
              Years factor: +2% per year (max 40%) → multiply base by years_factor<br>
              Child support: ₹5,000 per child if chosen</p>

            <hr style="margin:12px 0; border:none; border-top:1px solid #eef2f7;">
            <p class="small"><strong>Disclaimer:</strong> These are demo calculations for planning only. Real outcomes depend on law & court rulings.</p>
          </div>
        </aside>
      </div>
    </div>

    <!-- <footer>Made quick — edit multipliers in code if you want different defaults.</footer> -->
  </div>

  <script>
    // Tab switching
    const tabs = document.querySelectorAll('.tab');
    tabs.forEach(t => t.addEventListener('click', () => {
      tabs.forEach(x => { x.classList.remove('active'); x.setAttribute('aria-selected','false'); });
      t.classList.add('active'); t.setAttribute('aria-selected','true');

      const target = t.dataset.target;
      // show/hide forms
      document.getElementById('form-dahej').style.display = target === 'dahej' ? '' : 'none';
      document.getElementById('form-alimony').style.display = target === 'alimony' ? '' : 'none';
      document.getElementById('form-dahej').setAttribute('aria-hidden', target !== 'dahej');
      document.getElementById('form-alimony').setAttribute('aria-hidden', target !== 'alimony');
    }));

    // DAHEJ
    function calculateDahej(){
      const income = parseInt(document.getElementById('d-income').value);
      const education = parseFloat(document.getElementById('d-education').value);
      const city = parseFloat(document.getElementById('d-city').value);
      const gifts = document.getElementById('d-gifts').checked;

      const resultBox = document.getElementById('dahej-result');
      const breakdown = document.getElementById('dahej-breakdown');

      if (isNaN(income) || income <= 0){
        resultBox.innerText = '⚠️ Please enter a valid monthly income!';
        breakdown.style.display = 'none';
        return;
      }

      const base = income * 6;
      let total = base * education * city;
      const giftVal = gifts ? 50000 : 0;
      total += giftVal;

      resultBox.innerText = '💰 Suggested Dahej: ₹ ' + total.toLocaleString('en-IN');

      // breakdown
      breakdown.style.display = '';
      breakdown.innerHTML = `
        <div><strong>Base (6 months):</strong> ₹ ${base.toLocaleString('en-IN')}</div>
        <div><strong>Education multiplier:</strong> × ${education}</div>
        <div><strong>City multiplier:</strong> × ${city}</div>
        <div><strong>Gifts/Jewelry:</strong> ₹ ${giftVal.toLocaleString('en-IN')}</div>
        <div style="margin-top:8px"><strong>Total:</strong> ₹ ${total.toLocaleString('en-IN')}</div>
      `;
    }

    function resetDahej(){
      document.getElementById('d-income').value = '';
      document.getElementById('d-education').value = '1.0';
      document.getElementById('d-city').value = '1.0';
      document.getElementById('d-gifts').checked = false;
      document.getElementById('dahej-result').innerText = 'Enter details and click Calculate.';
      document.getElementById('dahej-breakdown').style.display = 'none';
    }

    // ALIMONY
    function calculateAlimony(){
      const husbandIncome = parseInt(document.getElementById('a-husbandIncome').value);
      let wifeIncome = parseInt(document.getElementById('a-wifeIncome').value);
      let marriageYears = parseInt(document.getElementById('a-marriageYears').value);
      let children = parseInt(document.getElementById('a-children').value);
      const childSupport = document.getElementById('a-childSupport').checked;

      const resultBox = document.getElementById('alimony-result');
      const breakdown = document.getElementById('alimony-breakdown');

      if (isNaN(husbandIncome) || husbandIncome <= 0){
        resultBox.innerText = '⚠️ Please enter a valid husband income!';
        breakdown.style.display = 'none';
        return;
      }
      if (isNaN(wifeIncome)) wifeIncome = 0;
      if (isNaN(marriageYears)) marriageYears = 0;
      if (isNaN(children)) children = 0;

      // Base calculation
      const diff = Math.max(husbandIncome - wifeIncome, 0);
      const base = diff * 0.3;
      const yearsFactor = 1 + Math.min(marriageYears * 0.02, 0.4); // cap 40%
      let total = base * yearsFactor;

      const childSupportVal = (childSupport && children > 0) ? (children * 5000) : 0;
      total += childSupportVal;

      resultBox.innerText = '💰 Estimated Alimony: ₹ ' + total.toLocaleString('en-IN');

      breakdown.style.display = '';
      breakdown.innerHTML = `
        <div><strong>Difference (husband - wife):</strong> ₹ ${diff.toLocaleString('en-IN')}</div>
        <div><strong>Base (30% of difference):</strong> ₹ ${base.toLocaleString('en-IN')}</div>
        <div><strong>Years factor:</strong> × ${yearsFactor.toFixed(2)} (based on ${marriageYears} yrs)</div>
        <div><strong>Child support:</strong> ₹ ${childSupportVal.toLocaleString('en-IN')}</div>
        <div style="margin-top:8px"><strong>Total:</strong> ₹ ${total.toLocaleString('en-IN')}</div>
      `;
    }

    function resetAlimony(){
      document.getElementById('a-husbandIncome').value = '';
      document.getElementById('a-wifeIncome').value = '';
      document.getElementById('a-marriageYears').value = '';
      document.getElementById('a-children').value = '';
      document.getElementById('a-childSupport').checked = false;
      document.getElementById('alimony-result').innerText = 'Enter details and click Calculate.';
      document.getElementById('alimony-breakdown').style.display = 'none';
    }

    // Initialize default settings
    resetDahej();
    resetAlimony();
  </script>
</body>
</html>
